const { createSupabaseClient } = require("./lib/supabase"); (async () => { const supabase = createSupabaseClient(); const { data: extensions } = await supabase.from("pg_extension").select("extname").eq("extname", "vector"); console.log("pgvector enabled:", extensions && extensions.length > 0 ? "YES" : "NO"); const { data: cols } = await supabase.from("information_schema.columns").select("column_name, data_type").eq("table_name", "trainer_profiles").eq("column_name", "vector_embedding"); console.log("trainer_profiles.vector_embedding exists:", cols && cols.length > 0 ? "YES" : "NO"); if (cols && cols.length > 0) console.log("Column type:", cols[0].data_type); const { data: clientEmb } = await supabase.from("information_schema.tables").select("table_name").eq("table_name", "client_embeddings"); console.log("client_embeddings table exists:", clientEmb && clientEmb.length > 0 ? "YES" : "NO"); })().catch(err => console.error(err));
